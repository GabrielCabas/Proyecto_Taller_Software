<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"
        integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <!-- Plotly -->
    <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>
    <!-- CSS -->
    <link rel='stylesheet' type='text/css' media='screen' href='static/css/main.css'>
    <!-- Font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
        integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Magnific popup -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"
        integrity="sha512-IsNh5E3eYy3tr/JiX2Yx4vsCujtkhwl7SLqgnwLNgf04Hrt9BT9SXlLlZlWx+OK4ndzAoALhsMNcCmkggjZB1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"
        integrity="sha512-+EoPw+Fiwh6eSeRK7zwIKG2MA8i3rV/DGa3tdttQGgWyatG/SkncT53KHQaS5Jh9MNOT3dmFL0FjTY08And/Cw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
        </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"
        integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.css"
        integrity="sha512-SZgE3m1he0aEF3tIxxnz/3mXu/u/wlMNxQSnE0Cni9j/O8Gs+TjM9tm1NX34nRQ7GiLwUEzwuE3Wv2FLz2667w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<body>
    <div class="container-md rounded border border-dark  h-80 my-2 p-4 bg-light">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#parameters" role="tab"
                    aria-controls="home" aria-selected="true">Parameters</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#plot_tab_1" role="tab"
                    aria-controls="profile" aria-selected="false">Calcium plot</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="contact-tab" data-toggle="tab" href="#plot_tab_2" role="tab"
                    aria-controls="contact" aria-selected="false">Open Probability plot</a>
            </li>
        </ul>
        <div class="tab-content " id="myTabContent">
            <div class="tab-pane fade show active formulario" id="parameters" role="tabpanel"
                aria-labelledby="home-tab">
                <h4>Parameters</h4>
                <div class="d-flex flex-row">
                    <label for="K_ca" class="form-label w-25">\(K_{ca}\) = <span id="label_Kca"></span> \(\mu
                        M\)</label>
                    <input id="K_ca" type="text" />
                </div>
                <div class="d-flex flex-row">
                    <label for="a" class="form-label w-25">a = <span id="label_a"></span> \(s^{-1}\)</label>
                    <input id="a" type="text" />
                </div>
                <div class="d-flex flex-row">
                    <label for="d" class="form-label w-25">d = <span id="label_d"></span> \(s^{-1}\)</label>
                    <input id="d" type="text" />
                </div>
                <div class="d-flex flex-row">
                    <label for="K_kinase" class="form-label w-25">\(K_{kinase}\) = <span id="label_Kkinase"></span>
                        \(\mu
                        M\)</label>
                    <input id="Kkinase" type="text" />
                </div>
                <div class="d-flex flex-row">
                    <label for="stim" class="form-label w-25">stim value = <span id="label_stim"></span> \(\mu M \over
                        s\)</label>
                    <input id="stim" type="text" />
                </div>
                <div class="d-flex flex-row">
                    <label for="stim" class="form-label w-25">stim time = <span id="label_stim_range"></span>
                        \(ms\)</label>
                    <input id="stim_slider" type="text" />
                </div>
                <div class="d-flex flex-row">
                    <label for="t" class="form-label w-25">\(t_{f}\) = <span id="label_t"></span> \(s\)</label>
                    <input id="t" type="text" />
                </div>
                <div class="d-flex flex-row-reverse">
                    <button type="button" id="parameters_button" class="btn btn-outline-dark m-2"> <span
                            id="label_button_parameters">Show fixed parameters</button>
                </div>
                <div id="fixed_parameters">
                    <div class="d-flex flex-row form-label w-25">
                        \(\alpha = 2.5 \frac{\mu M}{s}\)
                    </div>
                    <div class="d-flex flex-row form-label w-25">
                        \(V = - 50 mV\)
                    </div>
                    <div class="d-flex flex-row form-label w-25">
                        \( [Ca^{2+}]_{ext} = 1000 \mu M\)
                    </div>
                    <div class="d-flex flex-row form-label w-25">
                        \( [Ca^{2+}]_{cys} (t = 0) = 0.1 \mu M\)
                    </div>
                    <div class="d-flex flex-row form-label w-25">
                        \(\Delta_{r} = 165.13 mV\)
                    </div>
                    <div class="d-flex flex-row form-label w-25">
                        \(p^*(t=0) = 0\)
                    </div>
                    <div class="d-flex flex-row form-label w-25">
                        \(p_i(t=0) = 0\)
                    </div>
                </div>
                <div class="d-flex flex-row-reverse">
                    <button type="button" id="info_button" class="btn btn-outline-dark m-2 w-20"> <span
                            id="label_button">Show
                        </span>\(f(t)\) </button>
                </div>
                <div id="info">
                    <div class="d-flex flex-row">
                        <div class="w-100">
                            <h4>ODE system</h4>
                            \(g_{cac,0} = \frac{1}{\Delta_r} \frac{[Ca^{2+}]_{cyt}^{2}}{K_{Ca}^2 + [Ca^{2+}]_{cyt}^{2}}
                            \)
                            <br>
                            \( \frac{d[Ca^{2}]_{cyt}}{dt} = stim - \alpha [\frac{[Ca^{2+}]_{cyt}^{2}}{K_{Ca}^2 +
                            [Ca^{2+}]_{cyt}^{2}} + (g_{cac,0} + p^* g_{cac,dyn}) (V - 12.5 mV \; ln
                            \frac{[Ca^{2+}]_{ext}}{[Ca^{2+}]_{cyt}}) ]\)
                            <br>
                            \(\frac{dp^*}{dt} = a \frac{[Ca^{2+}]^4_{cyt}}{K^4_{kinase} + [Ca^{2+}]_{cyt}^4} (1 - p^* -
                            p_i)
                            - d
                            \; p^* \)
                            <br>
                            \(\frac{dp_i}{dt} = d \; p^* \)
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-row-reverse">
                    <button type="button" class="btn btn-outline-dark m-2 w-20" id="inicial">Use initial values</button>
                </div>
                <div class="d-flex flex-row-reverse" id="save_data">
                    <select class="form-select w-20 m-2">
                        <option selected>Save data as</option>
                        <option value="1">.xlsx</option>
                        <option value="2">.csv</option>
                        <option value="3">.tsv</option>
                    </select>
                </div>
            </div>
            <div class="tab-pane fade h-80" id="plot_tab_1" role="tabpanel" aria-labelledby="profile-tab">
                <h4>Calcium cytosol concentration vs time</h4>
                <div id='plot'></div>
                <div class="d-flex flex-row-reverse">
                    <button type="button" class="btn btn-outline-dark m-2" id="download_plot_1">Save plot</button>
                </div>
            </div>
            <div class="tab-pane fade h-80" id="plot_tab_2" role="tabpanel" aria-labelledby="contact-tab">
                <h4>Open Probability vs time</h4>
                <div id='plot2'></div>
                <div class="d-flex flex-row-reverse">
                    <button type="button" class="btn btn-outline-dark m-2" id="download_plot_2">Save plot</button>
                </div>
            </div>
        </div>
    </div>
</body>
<script src='static/js/main.js'></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</html>